<nav id="header" class="bg-white text-black w-full z-20 top-0">
	<div class="w-full md:max-w-4xl mx-auto flex flex-wrap items-center justify-between mt-0">
		<div class="block lg:hidden pl-8 p-2">
			<a class="text-gray-800 font-bold text-base no-underline hover:no-underline" href="#">
				MonSite
			</a>
		</div>
		<div class="block lg:hidden pr-4">
			<button id="nav-toggle" class="flex items-center px-3 py-2 text-gray-800 border-gray-600 focus:outline-none">
          <svg fill="text-yellow-300" viewBox="0 0 20 20" class="w-6 h-6 fill-current">
            <title>Menu</title>
            <path fill-rule="evenodd"
              d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z"
              clip-rule="evenodd"></path>
          </svg>
        </button>
		</div>
		<div class="w-full flex-grow p-2 lg:flex lg:items-center lg:w-auto hidden lg:block mt-1 lg:mt-0 bg-white md:bg-transparent z-20"
			id="nav-content">
			<ul class="list-reset lg:flex justify-center flex-1 items-center">
				<li class="mr-3">
					<a class="py-2 px-4 text-gray-800 font-bold
          {{ app.current_route == 'home'  ? 'border-b-0 md:border-b-4 border-gray-300 inline-block ' : '' }}" href="{{ path('home') }}">Accueil</a>
				</li>
        {% if is_granted('IS_AUTHENTICATED_FULLY') %}
          <li class="mr-3">
            <a class="py-2 px-4 text-gray-800 font-bold {{ app.current_route == 'product.index' ? 'border-b-0 md:border-b-4 border-gray-300 inline-block' : '' }}" href="{{ path('product.index', {'id': app.user.id}) }}">Produits</a>
          </li>
        {% endif %}
				<li class="mr-3">
					<a class="py-2 px-4 text-gray-800 font-bold {{ app.current_route == 'contact'  ? 'border-b-0 md:border-b-4 border-gray-300 inline-block' : '' }}" href="{{ path('contact') }}">Contact</a>
				</li>
			</ul>
		</div>
	</div>
</nav>

<script>
	var h = document.documentElement,
    b = document.body,
    st = 'scrollTop',
    sh = 'scrollHeight',
    progress = document.querySelector('#progress'),
    scroll;
var scrollpos = window.scrollY;
var header = document.getElementById("header");
var navcontent = document.getElementById("nav-content");

document.addEventListener('scroll', function () { 
    scroll = (h[st] || b[st]) / ((h[sh] || b[sh]) - h.clientHeight) * 100;
    progress.style.setProperty('--scroll', scroll + '%');
    scrollpos = window.scrollY;

    if (scrollpos > 10) {
        header.classList.add("bg-black");
        navcontent.classList.remove("bg-black");
        navcontent.classList.add("bg-black");
    } else {
        header.classList.remove("bg-black");
        navcontent.classList.remove("bg-black");
        navcontent.classList.add("bg-black");

    }

});

document.getElementById('nav-toggle').onclick = function () {
    document.getElementById("nav-content").classList.toggle("hidden");
}
</script>